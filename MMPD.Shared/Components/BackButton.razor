@* Reusable back navigation button component that uses browser history navigation *@

@* Required using statements for JavaScript interop and Telerik components *@
@using Microsoft.JSInterop
@using Microsoft.AspNetCore.Components
@using Telerik.Blazor
@using Telerik.Blazor.Components
@using Telerik.SvgIcons

@* Inject JavaScript runtime for calling browser APIs *@
@inject IJSRuntime JS

@* 
Telerik Button component configured as a primary back button with consistent styling.
Uses Telerik's theming system for consistent appearance across the application.
*@
<TelerikButton OnClick="@GoBack" 
               Icon="@CustomIcons.LeftArrow" 
               Size="@ThemeConstants.Button.Size.Large" 
               ThemeColor="@ThemeConstants.Button.ThemeColor.Primary"
               Class="k-py-2" 
               FillMode="@ThemeConstants.Button.FillMode.Solid">
    @* Solid fill mode (vs outline or flat) *@
    @ChildContent  @* Renders any content passed between the component tags (button text/content) *@
</TelerikButton>

@code {
    #region Parameters

    /// <summary>
    /// Content to display inside the button (typically text like "Back" or "Return").
    /// RenderFragment allows any HTML/Razor content to be passed as the button content.
    /// Nullable to support buttons that only show an icon without text.
    /// </summary>
    [Parameter] public RenderFragment? ChildContent { get; set; }

    #endregion

    #region Event Handlers

    /// <summary>
    /// Handles the button click event by calling JavaScript to navigate back in browser history.
    /// Uses JavaScript interop to call the browser's native back functionality (window.history.back()).
    /// Async method to properly handle the JavaScript call without blocking the UI.
    /// </summary>
    private async Task GoBack()
    {
        // Call JavaScript function "goBack" which should be defined in the application's JS files
        // This typically calls window.history.back() or similar browser navigation API
        await JS.InvokeVoidAsync("goBack");
    }

    #endregion
}